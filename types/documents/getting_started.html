<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>getting_started | @wxn0brp/vql</title><meta name="description" content="Documentation for @wxn0brp/vql"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@wxn0brp/vql</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">getting_started</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="getting-started-your-first-vql-query" class="tsd-anchor-link">Getting Started: Your First VQL Query<a href="#getting-started-your-first-vql-query" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Welcome to the VQL Getting Started guide! This tutorial will walk you through the essential steps to set up VQL, connect it to your ValtheraDB instances, and execute your first queries using both VQLR (Runtime) and VQLS (Simple) syntaxes.</p>
<p>By the end of this guide, you will be able to:</p>
<ul>
<li>Install VQL in your project.</li>
<li>Initialize the <code>VQLProcessor</code>.</li>
<li>Perform basic <code>find</code> operations with VQLR and VQLS.</li>
<li>Understand the structure of VQL queries.</li>
</ul>
<h2 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Before you begin, ensure you have:</p>
<ul>
<li>Node.js (or preferably Bun) installed.</li>
<li>A basic understanding of TypeScript/JavaScript.</li>
<li><a href="https://github.com/wxn0brP/ValtheraDB"><code>ValtheraDB</code></a> installed and know how to initialize a database instance. You can find its documentation <a href="https://wxn0brp.github.io/ValtheraDB/">here</a>.</li>
</ul>
<pre><code class="bash"><span class="hl-4"># Install ValtheraDB if you haven&#39;t already</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@wxn0brp/db</span><span class="hl-1"> </span><span class="hl-4"># or yarn add @wxn0brp/db, bun add @wxn0brp/db</span>
</code><button type="button">Copy</button></pre>

<h2 id="step-1-install-vql" class="tsd-anchor-link">Step 1: Install VQL<a href="#step-1-install-vql" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>First, add VQL to your project's dependencies:</p>
<pre><code class="bash"><span class="hl-4"># Using npm</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@wxn0brp/vql</span><br/><br/><span class="hl-4"># Or using yarn</span><br/><span class="hl-7">yarn</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">@wxn0brp/vql</span><br/><br/><span class="hl-4"># Or using bun</span><br/><span class="hl-7">bun</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">@wxn0brp/vql</span>
</code><button type="button">Copy</button></pre>

<h2 id="step-2-initialize-valtheradb-and-vqlprocessor" class="tsd-anchor-link">Step 2: Initialize ValtheraDB and VQLProcessor<a href="#step-2-initialize-valtheradb-and-vqlprocessor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>VQL operates on one or more instances of ValtheraDB. Let's create a couple of sample databases and then initialize the <code>VQLProcessor</code>.</p>
<p>Create a file named <code>your-first-query.ts</code>:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">VQLProcessor</span><span class="hl-1">, { </span><span class="hl-2">VQLUQ</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wxn0brp/vql&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Valthera</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wxn0brp/db&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// 1. Initialize ValtheraDB instances</span><br/><span class="hl-4">// Ensure these paths are valid for your environment.</span><br/><span class="hl-4">// ValtheraDB will create these directories if they don&#39;t exist.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">userDb</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Valthera</span><span class="hl-1">(</span><span class="hl-3">&quot;./data/users-db&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">productDb</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Valthera</span><span class="hl-1">(</span><span class="hl-3">&quot;./data/products-db&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// You can add some initial data to your databases</span><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">setupData</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">userDb</span><span class="hl-1">.</span><span class="hl-7">add</span><span class="hl-1">(</span><span class="hl-3">&quot;users&quot;</span><span class="hl-1">, { </span><span class="hl-2">_id:</span><span class="hl-1"> </span><span class="hl-3">&quot;user1&quot;</span><span class="hl-1">, </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-2">email:</span><span class="hl-1"> </span><span class="hl-3">&quot;alice@example.com&quot;</span><span class="hl-1">, </span><span class="hl-2">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">userDb</span><span class="hl-1">.</span><span class="hl-7">add</span><span class="hl-1">(</span><span class="hl-3">&quot;users&quot;</span><span class="hl-1">, { </span><span class="hl-2">_id:</span><span class="hl-1"> </span><span class="hl-3">&quot;user2&quot;</span><span class="hl-1">, </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Bob&quot;</span><span class="hl-1">, </span><span class="hl-2">email:</span><span class="hl-1"> </span><span class="hl-3">&quot;bob@example.com&quot;</span><span class="hl-1">, </span><span class="hl-2">age:</span><span class="hl-1"> </span><span class="hl-8">25</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">productDb</span><span class="hl-1">.</span><span class="hl-7">add</span><span class="hl-1">(</span><span class="hl-3">&quot;items&quot;</span><span class="hl-1">, { </span><span class="hl-2">_id:</span><span class="hl-1"> </span><span class="hl-3">&quot;item1&quot;</span><span class="hl-1">, </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Laptop&quot;</span><span class="hl-1">, </span><span class="hl-2">price:</span><span class="hl-1"> </span><span class="hl-8">1200</span><span class="hl-1">, </span><span class="hl-2">stock:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">productDb</span><span class="hl-1">.</span><span class="hl-7">add</span><span class="hl-1">(</span><span class="hl-3">&quot;items&quot;</span><span class="hl-1">, { </span><span class="hl-2">_id:</span><span class="hl-1"> </span><span class="hl-3">&quot;item2&quot;</span><span class="hl-1">, </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Mouse&quot;</span><span class="hl-1">, </span><span class="hl-2">price:</span><span class="hl-1"> </span><span class="hl-8">25</span><span class="hl-1">, </span><span class="hl-2">stock:</span><span class="hl-1"> </span><span class="hl-8">50</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Sample data added to ValtheraDB instances.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// 2. Map your database instances to logical names for VQL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">dbInstances</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">users:</span><span class="hl-1"> </span><span class="hl-2">userDb</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">products:</span><span class="hl-1"> </span><span class="hl-2">productDb</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">// 3. Create a VQLProcessor instance</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">processor</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">VQLProcessor</span><span class="hl-1">(</span><span class="hl-2">dbInstances</span><span class="hl-1">);</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;VQL Processor initialized and ready!&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Call setupData() before running queries</span><br/><span class="hl-7">setupData</span><span class="hl-1">().</span><span class="hl-7">catch</span><span class="hl-1">(</span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span><br/>
</code><button type="button">Copy</button></pre>

<p>To run this setup, we recommend using <code>bun</code> as it handles TypeScript execution out of the box without a separate compilation step:</p>
<pre><code class="bash"><span class="hl-4"># In your terminal, run the script directly with bun</span><br/><span class="hl-7">bun</span><span class="hl-1"> </span><span class="hl-3">run</span><span class="hl-1"> </span><span class="hl-3">your-first-query.ts</span>
</code><button type="button">Copy</button></pre>

<p>Alternatively, you can use <code>ts-node</code> or compile with <code>tsc</code> and run with <code>node</code>:</p>
<pre><code class="bash"><span class="hl-4"># Using ts-node</span><br/><span class="hl-7">ts-node</span><span class="hl-1"> </span><span class="hl-3">your-first-query.ts</span><br/><br/><span class="hl-4"># Or compile and run with node</span><br/><span class="hl-7">tsc</span><span class="hl-1"> </span><span class="hl-3">your-first-query.ts</span><br/><span class="hl-7">node</span><span class="hl-1"> </span><span class="hl-3">your-first-query.js</span>
</code><button type="button">Copy</button></pre>

<p>You should see &quot;Sample data added to ValtheraDB instances.&quot; and &quot;VQL Processor initialized and ready!&quot; in your console. Two directories (<code>data/users-db</code> and <code>data/products-db</code>) will also be created with your data.</p>
<h2 id="step-3-executing-your-first-vqlr-query-object-syntax" class="tsd-anchor-link">Step 3: Executing Your First VQLR Query (Object Syntax)<a href="#step-3-executing-your-first-vqlr-query-object-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>VQLR is the JSON-based object syntax, often used when constructing queries programmatically. Let's find all users from our <code>users</code> database.</p>
<p>For TypeScript users, VQL exports the <code>VQLUQ&lt;T&gt;</code> type, which represents a union of both VQLS (string) and VQLR (object) formats. Using this type provides type-checking and autocompletion for your VQLR queries.</p>
<p>Add the following to <code>your-first-query.ts</code>:</p>
<pre><code class="typescript"><span class="hl-4">// ... (previous code for VQLProcessor initialization and setupData) ...</span><br/><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">runVQLRQuery</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-4">// Wait for data setup to complete</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">setupData</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">queryVQLR</span><span class="hl-1">: </span><span class="hl-9">VQLUQ</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-2">db:</span><span class="hl-1"> </span><span class="hl-3">&quot;users&quot;</span><span class="hl-1">, </span><span class="hl-4">// Target the &#39;users&#39; database instance</span><br/><span class="hl-1">    </span><span class="hl-2">d:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">find:</span><span class="hl-1"> { </span><span class="hl-4">// This is the operation type</span><br/><span class="hl-1">        </span><span class="hl-2">collection:</span><span class="hl-1"> </span><span class="hl-3">&quot;users&quot;</span><span class="hl-1">, </span><span class="hl-4">// Target the &#39;users&#39; collection within the &#39;users&#39; db</span><br/><span class="hl-1">        </span><span class="hl-2">search:</span><span class="hl-1"> { </span><span class="hl-2">$gt:</span><span class="hl-1"> { </span><span class="hl-2">age:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1"> } }, </span><span class="hl-4">// Find users where age is greater than 20</span><br/><span class="hl-1">        </span><span class="hl-2">fields:</span><span class="hl-1"> { </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-2">email:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1"> } </span><span class="hl-4">// Select only &#39;name&#39; and &#39;email&#39; fields</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-1">  </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;</span><span class="hl-12">\n</span><span class="hl-3">Executing VQLR query...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">processor</span><span class="hl-1">.</span><span class="hl-7">execute</span><span class="hl-1">(</span><span class="hl-2">queryVQLR</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;VQLR Query Result:&quot;</span><span class="hl-1">, </span><span class="hl-2">result</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Error executing VQLR query:&quot;</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Run the VQLR query</span><br/><span class="hl-7">runVQLRQuery</span><span class="hl-1">().</span><span class="hl-7">catch</span><span class="hl-1">(</span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Expected Output for the VQLR query:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-13">&quot;users&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    { </span><span class="hl-13">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-13">&quot;email&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;alice@example.com&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-13">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;Bob&quot;</span><span class="hl-1">, </span><span class="hl-13">&quot;email&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;bob@example.com&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="step-4-executing-your-first-vqls-query-string-syntax" class="tsd-anchor-link">Step 4: Executing Your First VQLS Query (String Syntax)<a href="#step-4-executing-your-first-vqls-query-string-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>VQLS is the simple, string-based syntax, great for quick queries or CLI tools. When an operation like <code>find</code> is not specified, it is used by default. Let's find all products from our <code>products</code> database with a price less than 100.</p>
<p>Add the following to <code>your-first-query.ts</code>:</p>
<pre><code class="typescript"><span class="hl-4">// ... (previous code for VQLProcessor initialization, setupData, and runVQLRQuery) ...</span><br/><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">runVQLSQuery</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-4">// Wait for data setup to complete</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">setupData</span><span class="hl-1">(); </span><span class="hl-4">// Ensure data is set up before running</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// VQLS for finding products with price &lt; 100.</span><br/><span class="hl-1">  </span><span class="hl-4">// &#39;find&#39; is the default operation if none is specified.</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">queryVQLS</span><span class="hl-1">: </span><span class="hl-9">VQLUQ</span><span class="hl-1"> = </span><span class="hl-3">`products items s.$lt.price=100 f.name=1 f.price=1`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;</span><span class="hl-12">\n</span><span class="hl-3">Executing VQLS query...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">processor</span><span class="hl-1">.</span><span class="hl-7">execute</span><span class="hl-1">(</span><span class="hl-2">queryVQLS</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;VQLS Query Result:&quot;</span><span class="hl-1">, </span><span class="hl-2">result</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Error executing VQLS query:&quot;</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Run the VQLS query</span><br/><span class="hl-7">runVQLSQuery</span><span class="hl-1">().</span><span class="hl-7">catch</span><span class="hl-1">(</span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Expected Output for the VQLS query:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-13">&quot;items&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    { </span><span class="hl-13">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;Mouse&quot;</span><span class="hl-1">, </span><span class="hl-13">&quot;price&quot;</span><span class="hl-1">: </span><span class="hl-8">25</span><span class="hl-1"> }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="step-5-modifying-data-with-vqls" class="tsd-anchor-link">Step 5: Modifying Data with VQLS<a href="#step-5-modifying-data-with-vqls" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>VQLS also provides a concise syntax for data modification. Let's update the stock of our &quot;Mouse&quot; item from 50 to 45 using the <code>~!</code> (updateOne) operator.</p>
<p>Add the following to <code>your-first-query.ts</code>:</p>
<pre><code class="typescript"><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">runVQLSUpdateQuery</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">// Wait for data setup to complete</span><br/><span class="hl-1">    </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">setupData</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// VQLS for updating a single item.</span><br/><span class="hl-1">    </span><span class="hl-4">// Syntax: &lt;db&gt; ~&lt;collection&gt;~ s.&lt;field&gt;=&lt;val&gt; u.&lt;field&gt;=&lt;val&gt;</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">updateQuery</span><span class="hl-1">: </span><span class="hl-9">VQLUQ</span><span class="hl-1"> = </span><span class="hl-3">`products ~items! s.name=&quot;Mouse&quot; u.stock=45`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;</span><span class="hl-12">\n</span><span class="hl-3">Executing VQLS update query...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">processor</span><span class="hl-1">.</span><span class="hl-7">execute</span><span class="hl-1">(</span><span class="hl-2">updateQuery</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;VQLS Update Result:&quot;</span><span class="hl-1">, </span><span class="hl-2">result</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-4">// Optional: Verify the change by fetching the updated item</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">verifyResult</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">processor</span><span class="hl-1">.</span><span class="hl-7">execute</span><span class="hl-1">(</span><span class="hl-3">`products items s.name=&quot;Mouse&quot;`</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Verified Item:&quot;</span><span class="hl-1">, </span><span class="hl-2">verifyResult</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Error executing VQLS update query:&quot;</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Run the VQLS update query</span><br/><span class="hl-7">runVQLSUpdateQuery</span><span class="hl-1">().</span><span class="hl-7">catch</span><span class="hl-1">(</span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The <code>u.</code> prefix stands for <code>update</code>, specifying the fields to change. The <code>s.</code> prefix works just like in a <code>find</code> query, specifying which document to target.</p>
<p>Expected output for the update and verification:</p>
<pre><code class="json"><span class="hl-4">// VQLS Update Result: (output may vary, but indicates success)</span><br/><span class="hl-1">{ </span><span class="hl-13">&quot;updated&quot;</span><span class="hl-1">: </span><span class="hl-8">1</span><span class="hl-1"> }</span><br/><br/><span class="hl-4">// Verified Item:</span><br/><span class="hl-1">{ </span><span class="hl-13">&quot;items&quot;</span><span class="hl-1">: [ { </span><span class="hl-13">&quot;_id&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;item2&quot;</span><span class="hl-1">, </span><span class="hl-13">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;Mouse&quot;</span><span class="hl-1">, </span><span class="hl-13">&quot;price&quot;</span><span class="hl-1">: </span><span class="hl-8">25</span><span class="hl-1">, </span><span class="hl-13">&quot;stock&quot;</span><span class="hl-1">: </span><span class="hl-8">45</span><span class="hl-1"> } ] }</span>
</code><button type="button">Copy</button></pre>

<h2 id="congratulations" class="tsd-anchor-link">Congratulations!<a href="#congratulations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You've successfully set up VQL and executed your first queries using both VQLR and VQLS. You're now ready to explore more advanced features.</p>
<h3 id="next-steps" class="tsd-anchor-link">Next Steps<a href="#next-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Learn about the fundamental concepts of VQL in <strong><a href="core_concepts.html">Core Concepts</a></strong>.</li>
<li>Deep dive into the specific syntax of <strong><a href="lang_VQLS.html">VQLS</a></strong> and <strong><a href="lang_VQLR.html">VQLR</a></strong>.</li>
<li>Understand how to manage access control with VQL's <strong><a href="permissions.html">Permissions</a></strong>.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#getting-started-your-first-vql-query"><span>Getting <wbr/>Started: <wbr/>Your <wbr/>First <wbr/>VQL <wbr/>Query</span></a><ul><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><a href="#step-1-install-vql"><span>Step 1: <wbr/>Install <wbr/>VQL</span></a></li><li><a href="#step-2-initialize-valtheradb-and-vqlprocessor"><span>Step 2: <wbr/>Initialize <wbr/>Valthera<wbr/>DB and <wbr/>VQL<wbr/>Processor</span></a></li><li><a href="#step-3-executing-your-first-vqlr-query-object-syntax"><span>Step 3: <wbr/>Executing <wbr/>Your <wbr/>First <wbr/>VQLR <wbr/>Query (<wbr/>Object <wbr/>Syntax)</span></a></li><li><a href="#step-4-executing-your-first-vqls-query-string-syntax"><span>Step 4: <wbr/>Executing <wbr/>Your <wbr/>First <wbr/>VQLS <wbr/>Query (<wbr/>String <wbr/>Syntax)</span></a></li><li><a href="#step-5-modifying-data-with-vqls"><span>Step 5: <wbr/>Modifying <wbr/>Data with <wbr/>VQLS</span></a></li><li><a href="#congratulations"><span>Congratulations!</span></a></li><li><ul><li><a href="#next-steps"><span>Next <wbr/>Steps</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@wxn0brp/vql</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
